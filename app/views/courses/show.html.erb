<%= render partial: 'application/errors', locals: {object: @course} %>
<h2><%= @course.name %></h2>

<div class="wrapper">
    <div class="contents">
         <h3 ><%= @course.name %> - Level <%= @course.level %> </h3>
        <h3>Teacher: <%= link_to @course.teacher.full_name, user_path(@course.teacher.id) %></h3>
        <p><%= @course.description %></p>
        <ul>
            <li>Duration: <%= @course.duration %> minutes </li>
            <li>Day: <%= @course.day %> <%= @course.time.try(:strftime, "at %I:%M %P") || "Time hasnt been set up" %></li>
            <li>Price: $<%= @course.price %></li>
        </ul>
    </div>
</div>
<div class="wrapper">
    <h3 class="contents">Reviews:</h3>
        <% @course.reviews.each do |review| %>
            <%= review.student.full_name %> <br>
            <%= review.rating %> <br>
            <%= review.content %> <br>
            <% if review.student = current_user %>
              <%= link_to 'Edit my review', edit_review_path(review) %>
            <% end %>
        <% end %>
</div>


    <% if logged_in? && current_user.student? %>
        <div class="button"><%= link_to 'Leave a Review', new_course_review_path(@course.id) %></div> 
    <% end %>


    <% if logged_in? && current_user.admin? %>
        <div class="button"><%= link_to 'Edit', edit_course_path %></div>
    <% end %>

